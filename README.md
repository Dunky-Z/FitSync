# Strava to TrainingPeaks å¤šå¹³å°åŒæ­¥å·¥å…·

ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å·¥å…·ï¼Œå¯ä»¥ä»Stravaä¸‹è½½æ´»åŠ¨å¹¶åŒæ­¥åˆ°å¤šä¸ªè®­ç»ƒå¹³å°ï¼ŒåŒ…æ‹¬IGPSportå’ŒGarmin Connectã€‚

## ğŸš€ ä¸»è¦åŠŸèƒ½

- **å¤šæ•°æ®æºæ”¯æŒ**ï¼š
  - ä»Strava APIè‡ªåŠ¨è·å–æœ€æ–°æ´»åŠ¨
  - æ‰‹åŠ¨è¾“å…¥æ´»åŠ¨IDä¸‹è½½
  - æ”¯æŒæœ¬åœ°æ–‡ä»¶ä¸Šä¼ 

- **å¤šå¹³å°åŒæ­¥**ï¼š
  - **IGPSport**ï¼šä¸­å›½æœ¬åœŸè¿åŠ¨å¹³å°
  - **Garmin Connect**ï¼šå…¨çƒé¢†å…ˆçš„è¿åŠ¨æ•°æ®å¹³å°
  - å¯åŒæ—¶ä¸Šä¼ åˆ°å¤šä¸ªå¹³å°

- **æ™ºèƒ½æ–‡ä»¶å¤„ç†**ï¼š
  - è‡ªåŠ¨æ£€æµ‹ç°æœ‰æ–‡ä»¶ï¼Œé¿å…é‡å¤ä¸‹è½½
  - æ”¯æŒFITã€TCXã€GPXç­‰å¤šç§æ ¼å¼
  - æ™ºèƒ½æ–‡ä»¶å‘½åï¼ˆæ´»åŠ¨å+IDï¼‰

- **ç”¨æˆ·å‹å¥½**ï¼š
  - äº¤äº’å¼å‘½ä»¤è¡Œç•Œé¢
  - å‡­æ®å®‰å…¨ä¿å­˜
  - è¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯

## ğŸ“¦ å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### é¢å¤–ä¾èµ–è¯´æ˜

- **Garmin ConnectåŠŸèƒ½**éœ€è¦`garth`åº“ï¼š
  ```bash
  pip install garth
  ```

## ğŸ”§ é…ç½®

### Strava APIé…ç½®

1. è®¿é—® [Strava APIè®¾ç½®](https://www.strava.com/settings/api)
2. åˆ›å»ºåº”ç”¨ç¨‹åºè·å–Client IDå’ŒClient Secret
3. ä½¿ç”¨OAuthæµç¨‹è·å–Refresh Token
4. é…ç½®ä¼šè‡ªåŠ¨ä¿å­˜åˆ°`.app_config.json`

è¯¦ç»†æ­¥éª¤è¯·å‚è€ƒï¼š[STRAVA_API_SETUP.md](STRAVA_API_SETUP.md)

### å¹³å°è´¦æˆ·

- **IGPSport**ï¼šéœ€è¦IGPSportè´¦æˆ·ï¼ˆæ”¯æŒä¸­å›½ç”¨æˆ·ï¼‰
- **Garmin Connect**ï¼šéœ€è¦Garmin Connectè´¦æˆ·
  - æ”¯æŒå…¨çƒç‰ˆ(garmin.com)å’Œä¸­å›½ç‰ˆ(garmin.cn)

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨

```bash
cd src
python main.py
```

### è°ƒè¯•æ¨¡å¼

```bash
cd src
python main.py --debug
```

### æµ‹è¯•GarminåŠŸèƒ½

```bash
cd src
python test_garmin_upload.py
```

## ğŸ“‹ ä½¿ç”¨æµç¨‹

1. **é€‰æ‹©æ•°æ®æº**ï¼š
   - Strava APIè‡ªåŠ¨è·å– (æ¨è)
   - æ‰‹åŠ¨è¾“å…¥æ´»åŠ¨ID
   - æä¾›æœ¬åœ°æ–‡ä»¶è·¯å¾„

2. **é€‰æ‹©æ´»åŠ¨**ï¼š
   - ä»æœ€æ–°æ´»åŠ¨åˆ—è¡¨ä¸­é€‰æ‹©
   - è‡ªåŠ¨æ˜¾ç¤ºæ´»åŠ¨è¯¦æƒ…ï¼ˆåç§°ã€ç±»å‹ã€æ—¥æœŸã€è·ç¦»ï¼‰

3. **é€‰æ‹©ä¸Šä¼ å¹³å°**ï¼š
   - IGPSport
   - Garmin Connect
   - å¯å¤šé€‰åŒæ—¶ä¸Šä¼ 

4. **è¾“å…¥å‡­æ®**ï¼š
   - é¦–æ¬¡ä½¿ç”¨éœ€è¦è¾“å…¥å„å¹³å°ç™»å½•ä¿¡æ¯
   - å‡­æ®ä¼šå®‰å…¨ä¿å­˜ä¾›ä¸‹æ¬¡ä½¿ç”¨

5. **è‡ªåŠ¨å¤„ç†**ï¼š
   - æ–‡ä»¶éªŒè¯
   - å¹³å°ä¸Šä¼ 
   - ç»“æœæ‘˜è¦

## ğŸ” æ”¯æŒçš„æ–‡ä»¶æ ¼å¼

- **FIT**ï¼šåŸå§‹è®¾å¤‡æ•°æ®æ ¼å¼ï¼ˆæ¨èï¼‰
- **TCX**ï¼šTraining Center XMLæ ¼å¼
- **GPX**ï¼šGPS Exchangeæ ¼å¼

## ğŸ“ é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.py              # ä¸»ç¨‹åº
â”‚   â”œâ”€â”€ garmin_client.py     # Garmin Connectå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ garmin_url_dict.py   # Garmin APIé…ç½®
â”‚   â””â”€â”€ test_garmin_upload.py # GarminåŠŸèƒ½æµ‹è¯•
â”œâ”€â”€ .app_config.json         # ç»Ÿä¸€é…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt         # Pythonä¾èµ–
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜
```

## ğŸ” é…ç½®æ–‡ä»¶è¯´æ˜

`.app_config.json`åŒ…å«æ‰€æœ‰å¹³å°çš„é…ç½®ï¼š

```json
{
  "strava": {
    "client_id": "ä½ çš„Stravaåº”ç”¨ID",
    "client_secret": "ä½ çš„Stravaåº”ç”¨å¯†é’¥",
    "refresh_token": "ä½ çš„Stravaåˆ·æ–°ä»¤ç‰Œ",
    "access_token": "è‡ªåŠ¨ç”Ÿæˆçš„è®¿é—®ä»¤ç‰Œ",
    "cookie": "ç”¨äºä¸‹è½½çš„Strava Cookie"
  },
  "igpsport": {
    "login_token": "IGPSportç™»å½•ä»¤ç‰Œ",
    "username": "IGPSportç”¨æˆ·å",
    "password": "IGPSportå¯†ç "
  },
  "garmin": {
    "username": "Garmin Connectç”¨æˆ·å",
    "password": "Garmin Connectå¯†ç ",
    "auth_domain": "GLOBALæˆ–CN",
    "session_cookies": "ä¼šè¯Cookie",
    "oauth_token": "OAuthä»¤ç‰Œ",
    "oauth_token_secret": "OAuthå¯†é’¥"
  },
  "general": {
    "debug_mode": false,
    "auto_save_credentials": true
  }
}
```

## ğŸš¨ å¸¸è§é—®é¢˜

### Stravaç›¸å…³
- **APIé…ç½®é—®é¢˜**ï¼šç¡®ä¿æ­£ç¡®é…ç½®Client IDã€Secretå’ŒRefresh Token
- **ä¸‹è½½å¤±è´¥**ï¼šæ£€æŸ¥Cookieæ˜¯å¦æœ‰æ•ˆï¼Œæˆ–é‡æ–°è·å–

### Garmin Connectç›¸å…³
- **ä¾èµ–ç¼ºå¤±**ï¼šè¿è¡Œ`pip install garth`å®‰è£…æ‰€éœ€åº“
- **ç™»å½•å¤±è´¥**ï¼šæ£€æŸ¥ç”¨æˆ·åå¯†ç ï¼Œç¡®è®¤é€‰æ‹©äº†æ­£ç¡®çš„æœåŠ¡å™¨åŒºåŸŸ
- **é‡å¤æ´»åŠ¨**ï¼šGarminä¼šè‡ªåŠ¨æ£€æµ‹é‡å¤æ´»åŠ¨å¹¶æ‹’ç»

### IGPSportç›¸å…³
- **ç™»å½•é—®é¢˜**ï¼šç¡®ä¿ä½¿ç”¨æœ‰æ•ˆçš„IGPSportè´¦æˆ·
- **ä¸Šä¼ å¤±è´¥**ï¼šæ£€æŸ¥ç½‘ç»œè¿æ¥å’Œæ–‡ä»¶æ ¼å¼

## ğŸ”„ æ›´æ–°æ—¥å¿—

- **v2.0**ï¼šæ–°å¢Garmin Connectæ”¯æŒï¼Œå¤šå¹³å°åŒæ­¥
- **v1.5**ï¼šç»Ÿä¸€é…ç½®æ–‡ä»¶ï¼Œæ”¹è¿›ç”¨æˆ·ä½“éªŒ
- **v1.0**ï¼šåŸºç¡€Stravaåˆ°IGPSportåŒæ­¥åŠŸèƒ½

## ğŸ“„ è®¸å¯è¯

[MIT License](LICENSE)

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueså’ŒPull Requestsï¼

## ğŸ“ æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š
1. æŸ¥çœ‹å¸¸è§é—®é¢˜éƒ¨åˆ†
2. ä½¿ç”¨`--debug`æ¨¡å¼è·å–è¯¦ç»†ä¿¡æ¯
3. æäº¤Issueå¹¶é™„å¸¦é”™è¯¯æ—¥å¿—


éœ€è¦ä¸æŒ‚æ¢¯å­ä½¿ç”¨Connectç™»å½•ï¼Œä¼šè‡ªåŠ¨å¼¹å‡ºæ›´æ–°æ‰‹æœºå·